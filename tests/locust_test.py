from locust import HttpUser, task, between

class TrafficPredictionUser(HttpUser):
    wait_time = between(0.1, 1)
    @task
    def predict_traffic(self):
        self.client.post(
            "/predict_traffic",
            json={
                "coords": [[116.328736, 39.905811], [116.328971, 39.905807], [116.329021, 39.905807],
                           [116.329121, 39.905808], [116.329299, 39.905905], [116.33029, 39.905892],
                           [116.331396, 39.905878], [116.3317, 39.905875], [116.333557, 39.905851],
                           [116.333642, 39.90585], [116.335891, 39.905911], [116.33699, 39.905893],
                           [116.337301, 39.905884], [116.337527, 39.905883], [116.337663, 39.905879],
                           [116.339355, 39.905867], [116.339543, 39.905865], [116.339892, 39.905864],
                           [116.340059, 39.905864], [116.340518, 39.90586], [116.34363, 39.905834],
                           [116.34425, 39.905833], [116.346227, 39.905807], [116.346417, 39.905804],
                           [116.349485, 39.905767], [116.349652, 39.905764], [116.349964, 39.905763],
                           [116.35009, 39.905763], [116.35076, 39.905763], [116.351039, 39.905761],
                           [116.351214, 39.905762], [116.351462, 39.905759], [116.352664, 39.905757],
                           [116.352848, 39.905757], [116.353347, 39.905753], [116.354777, 39.905752],
                           [116.356678, 39.905751]],
                "datetime": "2025-05-01T16:10"
            }
        )


